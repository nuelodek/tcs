<form action="submit_talent.php" method="POST" enctype="multipart/form-data">
                    <div id="personal-info">
                        
                  
                        
                          <div class="form-group">
                            <label for="profile_picture">Profile Picture:</label>
                            <input type="file" id="profile_picture" name="profile_picture">
                        </div> 
                        
                        
                        <div class="form-group">
                            <label for="name">Name:</label>
                            <input type="text" id="name" name="name" required>
                        </div>

                        <div class="form-group">
                            <label for="email">Email:</label>
                            <input type="email" id="email" name="email" required>
                        </div>
                        
                          <div class="form-group">
                            <label for="telephone">Telephone (Whatsapp preffered):</label>
                            <input type="tel" id="telephone" name="telephone" required>
                        </div>

                        <div class="form-group">
                            <label for="gender">Gender:</label>
                            <select id="gender" name="gender" required>
                                <option value="Male">Male</option>
                                <option value="Female">Female</option>
                                <option value="Other">Other</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="location">Location:</label>
                            <input type="text" id="location" name="location" required>
                        </div>

                      
                    </div>

                    <div id="professional-info">
                        <div class="form-group">
                            <label for="preferred_role">Preferred Role:</label>
                            <input type="text" id="preferred_role" name="preferred_role" required>
                        </div>

                        <div class="form-group">
                            <label for="experience">Experience:</label>
                            <input type="text" id="experience" name="experience" required>
                        </div>

                        <div class="form-group">
                            <label for="resume_file">Resume:</label>
                            <input type="file" id="resume_file" name="resume_file">
                        </div>

                        <div class="form-group">
    <label for="skills">Skills:</label>
    <select id="skills" name="skills" class="select2" multiple="multiple">
    </select>
</div>

<script>
    const apiKey = 'zQ3rZjnRhWBrugzj3dnJMIl9q1948fRc';
    const apiUrl = 'https://api.apilayer.com/skills';

    $(document).ready(function() {
        // Initialize Select2
        initializeSelect2();
    });

    function initializeSelect2() {
        $('#skills').select2({
            ajax: {
                url: apiUrl,
                dataType: 'json',
                delay: 250,
                data: function (params) {
                    return {
                        apikey: apiKey,
                        q: params.term
                    };
                },
                processResults: function (data) {
                    return {
                        results: data.map(skill => ({
                            id: skill.id,
                            text: skill.name
                        }))
                    };
                },
                cache: true
            },
            minimumInputLength: 1,
            placeholder: 'Search for skills',
            allowClear: true
        });
    }
</script>

                        <div class="form-group">
                            <label for="education">Education:</label>
                            <textarea id="education" name="education"></textarea>
                        </div>

                        <div class="form-group">
                            <label for="certifications">Certifications:</label>
                            <textarea id="certifications" name="certifications"></textarea>
                        </div>
<div class="form-group">
    <label for="languages">Languages:</label>
    <select id="languages" name="languages[]" class="form-control select2" multiple="multiple">
    </select>
</div>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        const languages = [
            'English', 'Spanish', 'French', 'German', 'Italian', 'Portuguese', 'Russian',
            'Chinese', 'Japanese', 'Korean', 'Arabic', 'Hindi', 'Bengali', 'Dutch',
            'Swedish', 'Norwegian', 'Danish', 'Finnish', 'Greek', 'Turkish'
        ];

        const select = document.getElementById('languages');
        languages.forEach(language => {
            const option = document.createElement('option');
            option.value = language.toLowerCase();
            option.textContent = language;
            select.appendChild(option);
        });

        // Initialize Select2
        $(select).select2({
            width: '100%',
            theme: 'classic',
            tags: true,
            createTag: function(params) {
                const term = $.trim(params.term);
                if (term === '') {
                    return null;
                }
                return {
                    id: term,
                    text: term,
                    newTag: true
                };
            },
            insertTag: function(data, tag) {
                // Sanitize the input
                const sanitizedTag = DOMPurify.sanitize(tag.text);
                tag.text = sanitizedTag;
                data.push(tag);
            }
        });
    });
</script>

                    </div>

                    <div id="additional-info">
                        <div class="form-group">
                            <label for="availability">Availability:</label>
                            <input type="text" id="availability" name="availability">
                        </div>

                        <div class="salary-group">
                           <div class="form-group">
    <label for="currency">Currency:</label>
    <select id="currency" name="currency">
    </select>
</div>

<script>
    // Function to fetch currency data from API
    async function fetchCurrencies() {
        try {
            const response = await fetch('https://api.exchangerate-api.com/v4/latest/USD');
            const data = await response.json();
            const currencies = Object.keys(data.rates);
            
            const select = document.getElementById('currency');
            currencies.forEach(currency => {
                const option = document.createElement('option');
                option.value = currency;
                option.textContent = currency;
                select.appendChild(option);
            });
        } catch (error) {
            console.error('Error fetching currencies:', error);
        }
    }

    // Call the function when the page loads
    document.addEventListener('DOMContentLoaded', fetchCurrencies);
</script>

                            <div class="form-group">
                                <label for="salary_expectation">Salary Expectation:</label>
                                <input type="number" id="salary_expectation" name="salary_expectation" step="0.01">
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="portfolio_url">Portfolio URL:</label>
                            <input type="url" id="portfolio_url" name="portfolio_url">
                        </div>

                        <div class="form-group">
                            <label for="linkedin_profile">LinkedIn Profile:</label>
                            <input type="url" id="linkedin_profile" name="linkedin_profile">
                        </div>

                        <div class="form-group">
                            <label for="contact_references">Contact References:</label>
                            <textarea id="contact_references" name="contact_references"></textarea>
                        </div>

                        <div class="form-group">
                            <label for="other_information">Other Information:</label>
                            <textarea id="other_information" name="other_information"></textarea>
                        </div>

                        <div class="form-group">
                            <label for="preferred_working_arrangement">Preferred Working Arrangement:</label>
                            <select id="preferred_working_arrangement" name="preferred_working_arrangement" required>
                                <option value="Remote">Remote</option>
                                <option value="Hybrid">Hybrid</option>
                                <option value="Onsite">Onsite</option>
                                <option value="Open">Open</option>
                            </select>
                        </div>
                    </div>

                    <div class="form-group">
                        <input type="submit" value="Submit">
                    </div>
                </form>
            </div>
        </div>